[common]
# —— 基础订阅与外部配置 ——
default_url = subconverter/config/paoluz.txt|https://d2vjcldsa36rx2.cloudfront.net/api/v1/client/subscribe?token=5c6e54a9afc850ab077cba507b5f5e8c
default_external_config = https://cdn.jsdelivr.net/gh/countott/hotclashmilk@main/external-config.ini

# —— API 与路径安全 ——
api_mode           = false
api_access_token   =
enable_insert      = false                 ; 关闭“插入默认节点”
insert_url         =
prepend_insert_url = true
base_path          = subconverter

# —— 节点过滤（交由 external-config.ini；此处不做筛选） ——
exclude_remarks =
include_remarks =
enable_filter   = false
filter_script   =

# —— 模板/规则基（不自定义模板，避免 templates 目录报错） ——
clash_rule_base     =
surge_rule_base     =
surfboard_rule_base =
mellow_rule_base    =
loon_rule_base      =
sssub_rule_base     =

# —— 代理更新（全部直连） ——
proxy_config       = NONE
proxy_ruleset      = NONE
proxy_subscription = NONE

# —— 通用行为（固定成默认，不再走链接参数） ——
append_proxy_type      = true              ; 节点名追加 [Trojan]/[SS]/[VMess]
skip_failed_links      = true
reload_conf_on_request = false
sort                   = true              ; 基础节点排序
emoji                  = false             ; 禁用 Emoji（搭配 [add_emoji]）

[userinfo]
enable_userinfo = false

[node_pref]
# —— 统一默认：开 UDP、关 TFO/TLS1.3、跳过证书验证、过滤不支持节点、启用新字段 —— 
udp_flag                 = true            ; 等价 &udp=true
tcp_fast_open_flag       = false           ; 关闭 TFO
skip_cert_verify_flag    = true            ; 等价 &scv=true
tls13_flag               = false
filter_deprecated_nodes  = true            ; 等价 &fdn=true
clash_use_new_field_name = true            ; 使用 Clash 新字段名（proxies/proxy-groups/rules）
clash_proxies_style      = flow
; 不重命名节点：此处不要写 rename_node 相关键，外部配置里也不要开启

[add_emoji]
add_emoji        = false                   ; 不给节点名加表情
remove_old_emoji = true                    ; 去掉订阅自带的表情
; rule =

[ruleset]
enabled                   = true
overwrite_original_rules  = true           ; 由 external-config.ini 生成/覆盖规则
update_ruleset_on_request = false
; ruleset 列表在 external-config.ini 中维护

[proxy_group]
; custom_proxy_group 由 external-config.ini 生成

[aliases]
# —— 仅固化“没有 pref 键”的 3 个链接参数 —— 
# 1) expand=true           ：展开规则全文（仅链接参数）
# 2) clash.doh=false       ：关闭 Clash DoH 片段（仅链接参数）
# 3) surge.doh=false       ：关闭 Surge DoH 片段（仅链接参数）
/clash = /sub?target=clash&expand=true
# 如需 sing-box，也只补“无 pref 键”的参数：
#/singbox = /sub?target=singbox&expand=true

[server]
listen          = ::
port            = 4040
serve_file_root = subconverter/config/

[tasks]
; task = 名称`Cron表达式`脚本路径`超时秒

[template]
template_path =   
; 显式置空，避免 “templates 不存在” 报错

[advanced]
log_level        = info
print_debug_info = false

# —— 缓存 —— 
enable_cache        = true
cache_subscription  = 60
cache_config        = 300
cache_ruleset       = 21600
