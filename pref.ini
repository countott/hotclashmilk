# =================================================
# Subconverter 主配置
# =================================================

[common]
# —— 基础订阅与外部配置 ——
default_url = base/config/sub1.txt|https://d2vjcldsa36rx2.cloudfront.net/api/v1/client/subscribe?token=5c6e54a9afc850ab077cba507b5f5e8c
default_external_config = base/config/my.ini

# —— API 与路径安全 ——
api_mode           = false
api_access_token   =
enable_insert      = false
insert_url         =
prepend_insert_url = true
base_path          = base

# —— 节点过滤（交由 my.ini；此处不做筛选） ——
exclude_remarks =
include_remarks =
enable_filter   = false
filter_script   = 

# —— 模板/规则基（不自定义模板，避免 templates 目录报错） ——
clash_rule_base     =
surge_rule_base     =
surfboard_rule_base =
mellow_rule_base    =
loon_rule_base      =
sssub_rule_base     =

# —— 代理更新（全部直连） ——
proxy_config       = system
proxy_ruleset      = system
proxy_subscription = NONE

# —— 通用行为 ——
append_proxy_type      = true
skip_failed_links      = true
reload_conf_on_request = false

[userinfo]
enable_userinfo = false

[node_pref]
# 与 my.ini 对齐：开启 UDP；其余保持默认
udp_flag                 = true
tcp_fast_open_flag       = false
skip_cert_verify_flag    = false
tls13_flag               = false
sort_flag                = false
filter_deprecated_nodes  = false
clash_use_new_field_name = true
clash_proxies_style      = flow
; sort_script =
; rename_node  =

[add_emoji]
add_emoji        = false
remove_old_emoji = true
; rule =

[ruleset]
enabled                   = true
overwrite_original_rules  = true  ; ← 覆盖权交给 my.ini
update_ruleset_on_request = false
; ruleset 由 my.ini 提供

[proxy_group]
; 由 my.ini 生成策略组，此处留空
; custom_proxy_group =

[aliases]
#/clash   = /sub?target=clash
#/singbox = /sub?target=singbox
# 如需强制固定外部规则：在上面两行末尾加 &external_config=base/config/my.ini

[server]
listen          = ::
port            = 25500
serve_file_root = base/config/

[tasks]
; task = 名称`Cron表达式`脚本路径`超时秒

[template]
# 显式置空，避免 “templates 不存在” 报错
template_path =

[advanced]
log_level        = info
print_debug_info = false

# —— 缓存（首次排障可暂时关掉） ——
enable_cache        = true
cache_subscription  = 60
cache_config        = 300
cache_ruleset       = 21600
; max_* / 并发 等保持默认

